<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MR.PRIZIDENT</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
            background: #f0f0f0;
            text-align: center;
        }
        .btn {
            background: #0088cc;
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 10px;
            font-size: 16px;
            margin: 10px;
            cursor: pointer;
        }
        .message {
            background: white;
            padding: 15px;
            margin: 10px;
            border-radius: 10px;
            border-left: 4px solid #0088cc;
        }
    </style>
</head>
<body>
    <div id="app">
        <h2>MR.PRIZIDENT</h2>
        <div class="message">
            –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ–±—Ä–∞—â–µ–Ω–∏—è
        </div>
        <button class="btn" onclick="sendMessage()">üì® –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ</button>
        <div id="status"></div>
    </div>

    <div id="pcMessage" style="display: none;">
        <h2>üì± –¢–æ–ª—å–∫–æ –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞</h2>
        <p>–û—Ç–∫—Ä–æ–π—Ç–µ –≤ Telegram –Ω–∞ —Å–º–∞—Ä—Ç—Ñ–æ–Ω–µ</p>
    </div>

    <script>
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω –∏ Telegram
        function isMobileTelegram() {
            const isMobile = /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);
            const isTelegram = window.Telegram && Telegram.WebApp;
            return isMobile && isTelegram;
        }

        // –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏
        function sendMessage() {
            if (!isMobileTelegram()) {
                alert('–û—Ç–∫—Ä–æ–π—Ç–µ –≤ Telegram –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ');
                return;
            }

            const tg = Telegram.WebApp;
            
            // –î–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏
            const data = {
                action: 'new_appeal',
                type: '7 –í–æ–ø—Ä–æ—Å',
                text: '—Ñ—å—é—Ä—Ñ–∏–ª—å—Ç—Ä—ã',
                timestamp: new Date().toLocaleString('ru-RU')
            };

            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –±–æ—Ç–∞
            tg.sendData(JSON.stringify(data));
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
            document.getElementById('status').innerHTML = `
                <div class="message" style="background: #d4edda; border-color: #28a745;">
                    <strong>‚úÖ –û–ë–†–ê–©–ï–ù–ò–ï –û–¢–ü–†–ê–í–õ–ï–ù–û!</strong><br>
                    –¢–µ–∫—Å—Ç: —Ñ—å—é—Ä—Ñ–∏–ª—å—Ç—Ä—ã<br>
                    –¢–∏–ø: 7 –í–æ–ø—Ä–æ—Å<br>
                    –í—Ä–µ–º—è: ${data.timestamp}
                </div>
            `;
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        function init() {
            if (isMobileTelegram()) {
                Telegram.WebApp.ready();
                Telegram.WebApp.expand();
                document.getElementById('pcMessage').style.display = 'none';
                document.getElementById('app').style.display = 'block';
            } else {
                document.getElementById('pcMessage').style.display = 'block';
                document.getElementById('app').style.display = 'none';
            }
        }

        // –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
